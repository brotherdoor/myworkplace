<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="blog.store.mapper.AuthorMapper">

  <resultMap type="Author" id="authorMap">
  	<id column="author_id" property="id"/>
  	<result column="author_password" property="password"/>
  	<result column="author_name" property="name"/>
  </resultMap>
  
  <sql id="selectAuthor">
  	SELECT author_id, author_password, author_name, email
  	FROM author_tb
  </sql>
  
  <select id="findAuthor" parameterType="string" resultMap="authorMap">
  	<include refid="selectAuthor"/>
  	WHERE author_id = #{id}
  </select>
  
  <select id="findAllAuthors" resultMap="authorMap">
  	<include refid="selectAuthor"/>
  	ORDER BY author_id DESC
  </select>
  
  <select id="findAuthorsByIds" resultMap="authorMap">
  	<include refid="selectAuthor"/>
  	WHERE author_id IN
  	<foreach collection="list" item="id" separator="," open="(" close=")">
  		#{id}
  	</foreach>
  </select>
  
  <select id="findAuthorByCondition" parameterType="hashmap" resultType="Author">
  	<include refid="selectAuthor"/>
  	<if test="id != null">
  		WHERE author_id = #{id}
  	</if>
  </select>
  
  
  	
</mapper>